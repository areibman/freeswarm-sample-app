@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-te-white text-te-black font-mono antialiased;
    font-feature-settings: "tnum" on, "lnum" on;
  }

  * {
    @apply box-border;
  }

  ::selection {
    @apply bg-te-orange text-te-white;
  }
}

@layer utilities {
  .grid-pattern {
    background-image:
      repeating-linear-gradient(0deg, transparent, transparent 39px, #E5E5E5 39px, #E5E5E5 40px),
      repeating-linear-gradient(90deg, transparent, transparent 39px, #E5E5E5 39px, #E5E5E5 40px);
    background-size: 40px 40px;
  }

  .text-shadow-glow {
    text-shadow: 0 0 20px rgba(255, 107, 0, 0.5);
  }

  /* 3D device frame */
  .device {
    --rx: 0deg; /* rotateX */
    --ry: 0deg; /* rotateY */
    --mx: 50%;  /* mouse x for gloss */
    --my: 50%;  /* mouse y for gloss */
    perspective: 1000px;
  }

  .device-inner {
    transform-style: preserve-3d;
    transform: rotateX(var(--rx)) rotateY(var(--ry));
    transition: transform 180ms ease-out;
    background: linear-gradient(180deg, #ffffff 0%, #f6f6f6 60%, #f0f0f0 100%);
    border-radius: 18px;
    box-shadow:
      0 24px 60px rgba(0, 0, 0, 0.18),
      0 8px 20px rgba(0, 0, 0, 0.12),
      inset 0 1px 0 rgba(255, 255, 255, 0.6),
      inset 0 -2px 6px rgba(0, 0, 0, 0.06);
    position: relative;
    overflow: hidden;
  }

  .device-bezel {
    transform: translateZ(6px);
    border-radius: 12px;
    background: #fafafa;
    box-shadow: inset 0 0 0 2px #e6e6e6, inset 0 6px 14px rgba(0,0,0,0.06);
  }

  .device-gloss {
    pointer-events: none;
    position: absolute;
    inset: 0;
    background: radial-gradient(
      600px 300px at var(--mx) var(--my),
      rgba(255, 255, 255, 0.35),
      rgba(255, 255, 255, 0.1) 30%,
      rgba(255, 255, 255, 0) 60%
    );
    mix-blend-mode: screen;
    transform: translateZ(20px);
  }

  /* 3D tiles (board cells) */
  .tile-3d {
    transform-style: preserve-3d;
    background: #ffffff;
    box-shadow:
      inset 0 2px 0 rgba(255, 255, 255, 0.8),
      inset 0 -2px 0 rgba(0, 0, 0, 0.08);
  }
  .tile-3d:hover {
    transform: translateZ(6px);
  }
  .mark-3d {
    display: inline-block;
    transform: translateZ(12px);
    text-shadow: 0 6px 16px rgba(0,0,0,0.15);
  }

  /* 3D buttons */
  .btn-3d {
    transform-style: preserve-3d;
    box-shadow:
      0 8px 16px rgba(0, 0, 0, 0.12),
      inset 0 1px 0 rgba(255, 255, 255, 0.6),
      inset 0 -2px 0 rgba(0, 0, 0, 0.08);
    transform: translateZ(0);
    transition: transform 120ms ease, box-shadow 120ms ease, background-color 120ms ease, color 120ms ease;
  }
  .btn-3d:hover {
    transform: translateZ(4px);
    box-shadow:
      0 12px 24px rgba(0, 0, 0, 0.16),
      inset 0 1px 0 rgba(255, 255, 255, 0.6),
      inset 0 -2px 0 rgba(0, 0, 0, 0.08);
  }
  .btn-3d:active {
    transform: translateZ(0) translateY(1px);
    box-shadow:
      0 6px 12px rgba(0, 0, 0, 0.14),
      inset 0 2px 0 rgba(0, 0, 0, 0.08);
  }

  /* Rotary knob */
  .knob {
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: radial-gradient(100% 100% at 30% 30%, #ffffff, #e9e9e9);
    box-shadow:
      0 8px 20px rgba(0, 0, 0, 0.18),
      inset 0 1px 0 rgba(255, 255, 255, 0.9),
      inset 0 -4px 10px rgba(0, 0, 0, 0.12);
    position: relative;
    transform-style: preserve-3d;
  }
  .knob:before {
    content: "";
    position: absolute;
    inset: 10%;
    border-radius: 50%;
    background: repeating-conic-gradient(
      from 0deg,
      rgba(0,0,0,0.08) 0 6deg,
      transparent 6deg 12deg
    );
    filter: blur(0.2px);
  }
  .knob-pointer {
    position: absolute;
    left: 50%;
    top: 12%;
    width: 2px;
    height: 18px;
    background: #1a1a1a;
    border-radius: 2px;
    transform: translateX(-50%);
    box-shadow: 0 1px 0 rgba(255,255,255,0.6);
  }
}
